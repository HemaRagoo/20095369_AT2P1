<!DOCTYPE html>
<html>

<head>
  <title>Birthday Calculator</title>

  <link rel="stylesheet" href="../assets/css/resets.css">
  <link rel="stylesheet" href="../assets/css/portfolio.css">

</head>
<body>
<h1>Birthday Calculator</h1>

<label for="year">Year:</label>
<select id="year" onchange="updateDays()">
  <option value="">Select Year</option>
  <!-- Populate the year options dynamically using JavaScript -->
</select>

<label for="month">Month:</label>
<select id="month" onchange="updateDays()">
  <option value="">Select Month</option>
  <option value="1">January</option>
  <option value="2">February</option>
  <option value="3">March</option>
  <option value="4">April</option>
  <option value="5">May</option>
  <option value="6">June</option>
  <option value="7">July</option>
  <option value="8">August</option>
  <option value="9">September</option>
  <option value="10">October</option>
  <option value="11">November</option>
  <option value="12">December</option>
</select>

<label for="day">Day:</label>
<select id="day">
  <option value="">Select Day</option>
  <!-- Populate the day options dynamically using JavaScript -->
</select>

<button onclick="calculateDifference()">Calculate</button>

<div id="result"></div>

<script>
  // Get current date
  var currentDate = new Date();

  // Get DOM elements
  var yearSelect = document.getElementById('year');
  var monthSelect = document.getElementById('month');
  var daySelect = document.getElementById('day');
  var resultDiv = document.getElementById('result');

  // Populate the year options from 1900 to the current year
  var currentYear = currentDate.getFullYear();
  for (var i = currentYear; i >= 1900; i--) {
    var option = document.createElement('option');
    option.value = i;
    option.text = i;
    yearSelect.appendChild(option);
  }

  // Update the number of days based on the selected year and month
  function updateDays() {
    var selectedYear = yearSelect.value;
    var selectedMonth = monthSelect.value;
    var daysInMonth = new Date(selectedYear, selectedMonth, 0).getDate();

    // Clear existing day options
    daySelect.innerHTML = '';

    // Populate the day options based on the selected month and year
    for (var i = 1; i <= daysInMonth; i++) {
      var option = document.createElement('option');
      option.value = i;
      option.text = i;
      daySelect.appendChild(option);
    }
  }

  // Calculate the difference between the selected date and the current date
  function calculateDifference() {
    var selectedYear = parseInt(yearSelect.value);
    var selectedMonth = parseInt(monthSelect.value);
    var selectedDay = parseInt(daySelect.value);

    // Check if a valid date is selected
    if (isNaN(selectedYear) || isNaN(selectedMonth) || isNaN(selectedDay)) {
      resultDiv.textContent = 'Please select a valid date.';
      return;
    }

    // Adjust the selected date if it's invalid (e.g., Feb 30)
    var maxDay = new Date(selectedYear, selectedMonth, 0).getDate();
    if (selectedDay > maxDay) {
      selectedDay = maxDay;
      daySelect.value = selectedDay;
    }

    var selectedDate = new Date(selectedYear, selectedMonth - 1, selectedDay);
    var differenceInDays = Math.floor((currentDate - selectedDate) / (1000 * 60 * 60 * 24));
    var differenceInYears = (currentDate - selectedDate) / (1000 * 60 * 60 * 24 * 365.25);

    // Display the result
    if (selectedMonth === currentDate.getMonth() + 1 && selectedDay === currentDate.getDate()) {
      var greetings = [
        'Happy Birthday [English]',
        'Joyeux anniversaire! [French]',
        'Alles Gute zum Geburtstag! [German]',
        'Buon compleanno! [Italian]',
        'Penblwydd hapus! [Welsh]',
        'qoSlIj DatIvjaj [Klingon]',
        'Chestit Rozhden den! [Bulgarian]',
        'Shēngrì kuàilè! [Chinese]',
        'Tillykke med fødselsdagen! [Danish]',
        'Hyvää syntymäpäivää! [Finnish]',
        'janmadin mubaarak! [Hindi]',
        'Otanjōbiomedetōgozaimasu! [Japanese]',
        'تولدت مبارک! [Persian]'
      ];
      var randomGreeting = greetings[Math.floor(Math.random() * greetings.length)];
      resultDiv.innerHTML = 'Happy Birthday! ' + randomGreeting;
    } else {
      resultDiv.innerHTML = 'Difference in days: ' + differenceInDays + '<br>' +
              'Difference in years: ' + differenceInYears.toFixed(2);
    }
  }
</script>
</body>
</html>
